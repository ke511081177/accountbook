<!DOCTYPE html>
<html>
    <title>Maper</title>
    <!-- <head style = "margin:20px">良善楓之谷遊玩器</head> -->
    
    
        
    
    <body>
        <!-- #</h2>Input Example: Enter a value and check python console</h2> -->


        <table>
            <tr>
                <td><label style = "margin:20px"> 腳本錄製 </label> </td>
                <td><input type='radio' id='record_btn' class='btn btn-primary' onclick="record_btn_event()"></td>
                <td><label id="record" style = "margin:20px"> 準備錄製 </label></td>
              </tr>
            <tr>
                <td><label style = "margin:20px">偵測測謊機</label></td>
                <td><input type="checkbox" id = 'detect_yourdetect' onclick="detect_yourdetect_event()"></td>
                <td><label id="detect_yourdetect_done" style = "margin:20px">  </label></td>
            </tr>
            <tr>
                <td><label style = "margin:20px">偵測輪</label></td>
                <td><input type="checkbox" id = 'detect_rune' onclick="detect_rune_event()"></td>
                <td><label id="detect_rune_done" style = "margin:20px"> </label></td>
                <td></td>
              </tr>
        </table>
        <div>
        <label id="time_counter" style = "margin:20px"> </label>
        </div>
        <input type="submit" id="run"value="開始" disabled onclick="Run()">
        <div>
            <table>
                <!-- <tr>
                    <td><label style = "margin:20px">Tip </label> </td>

                  </tr> -->
                <!-- <tr>
                    <td><label style = "margin:20px">暫停: F1</label></td>
                    <td><label style = "margin:20px"> </label></td>

                </tr>
                <tr>
                    <td><label style = "margin:20px">結束: esc</label></td>
                    <td><label style = "margin:20px"> </label></td>
                    <td></td>
                  </tr> -->
            </table>
        </div>
        <textarea id="messagebox"
          rows="6"
          cols="40"
          required> </textarea>
        <!-- <table id='cheater_table'style="border:1px solid black; text-align: center;" >

            <tbody>
            <tr>
                <td style="width: 62px;"></td>
                <td style="width: 62px;"></td>
                <td style="width: 62px;"></td>
                <td style="width: 62px;"></td>
            </tr>
            <tr>
                <td style="width: 62px;"></td>
                <td style="width: 62px;"></td>
                <td style="width: 62px;"></td>
                <td style="width: 62px;"></td>
            </tr>
            <tr>
                <td style="width: 62px;"></td>
                <td style="width: 62px;"></td>
                <td style="width: 62px;"></td>
                <td style="width: 62px;"></td>
            </tr>
        </tbody>
        </table> -->
    </body>
    <footer>

    </footer> 

</html>

<script src="eel.js"></script>

<script >
    function record_btn_event(){
                        
                        var content = document.getElementById("text");
                        document.getElementById("record").innerText="按下F2後開始";
                        eel.start_record();
                        
                    }

    function detect_yourdetect_event(){
        
        eel.detect_yourdetect();
        
        document.getElementById("detect_yourdetect_done").innerText="完成";
    }
    function detect_rune_event(){

        eel.detect_rune();
        
        document.getElementById("detect_rune_done").innerText="完成";
    }
    function Run(){

        document.getElementById("run").disabled=true;
        var i =6
        
        var interval = setInterval(function(){
            i--;
            if(i==0){
            clearInterval(interval)
            };
            document.getElementById("time_counter").innerText=i+"秒後開始";
            
        },1000);
        eel.script_run();
    }
    

    

    eel.expose(system_message)
    function system_message(x,y){
    
    document.getElementById("messagebox").value+='\n'+x;
    
    }
    
    eel.expose(script_message);

    function script_message(x,y) {
        document.getElementById("record").innerText=x;
        if(y==1){
            document.getElementById("run").disabled=false;
        }
    }

    eel.expose(cheater_table_update);
    function cheater_table_update(x){
        for(var i=0;i<3;i++){
            for(var j=0;j<4;j++){
                var index = j+4*i
                console.log(i,j)
                // document.getElementById("messagebox").value=i
                // document.getElementById("cheater_table").rows[1].cells[3].innerText=4
                document.getElementById("cheater_table").rows[i].cells[j].innerText=x[index]
            }
        }
    }
</script>
<!-- <style>
table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
  }
</style> -->